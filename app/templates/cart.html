{% extends "base.html" %}

{% block title %}ProductOI - –ö–æ—à–∏–∫{% endblock %}

{% block content %}
<h1 style="color: #7c3aed; margin-bottom: 2rem;">–í–∞—à –∫–æ—à–∏–∫</h1>

{% if cart %}
<div class="cart-container">
    <div class="cart-items">
        {% for item in cart %}
        <div class="cart-item">
            <div class="item-details">
                <div class="item-name">{{ item.name }}</div>
                <div class="item-price">{{ item.price }} –≥—Ä–Ω</div>
            </div>
            <div class="item-quantity">
                <input type="number" id="qty-{{ item.id }}" value="{{ item.quantity }}" min="1" 
                       onchange="updateQuantity({{ item.id }})">
                <span style="color: #7c3aed; font-weight: bold;">= {{ item.price * item.quantity }} –≥—Ä–Ω</span>
                <button class="remove-btn" onclick="removeFromCart({{ item.id }})">–í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="cart-summary">
        <h2 style="margin-bottom: 1.5rem;">–†–∞–∑–æ–º –¥–æ —Å–ø–ª–∞—Ç–∏</h2>
        {% set total = 0 %}
        {% for item in cart %}
            {% set total = total + (item.price * item.quantity) %}
        {% endfor %}
        <div class="summary-item">
            <span>–í–∞—Ä—Ç—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤:</span>
            <span>{{ total }} –≥—Ä–Ω</span>
        </div>
        <div class="summary-item">
            <span>–î–æ—Å—Ç–∞–≤–∫–∞:</span>
            <span>–ó–∞ —Ç–∞—Ä–∏—Ñ–æ–º</span>
        </div>
        <div class="summary-total">
            <span>–†–ê–ó–û–ú:</span>
            <span>{{ total }} –≥—Ä–Ω</span>
        </div>
        <a href="/checkout" class="btn btn-primary" style="margin-top: 2rem;">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</a>
        <a href="/" class="btn btn-secondary" style="margin-top: 1rem;">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏</a>
    </div>
</div>
{% else %}
<div class="empty-message">
    <h2>–í–∞—à –∫–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π üò¢</h2>
    <p>–î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏ –∑—ñ —Å–≤–æ—ó–º —É–ª—é–±–ª–µ–Ω–∏–º —Å–º–∞–∫–æ–º</p>
    <a href="/" class="btn btn-primary" style="display: inline-block;">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É</a>
</div>
{% endif %}
{% endblock %}
