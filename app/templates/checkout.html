{% extends "base.html" %}

{% block title %}ProductOI - –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è{% endblock %}

{% block content %}
<h1 style="color: #7c3aed; margin-bottom: 2rem;">–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1>

<div class="checkout-container">
    <div>
        <div class="form-section">
            <h2>–í–∞—à—ñ –¥–∞–Ω—ñ</h2>
            <form id="checkoutForm" onsubmit="placeOrder(event)">
                <div class="form-group">
                    <label for="name">–Ü–º'—è *</label>
                    <input type="text" id="name" name="name" required placeholder="–ü–µ—Ç—Ä–æ –Ü–≤–∞–Ω–æ–≤">
                </div>

                <div class="form-group">
                    <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" id="phone" name="phone" required placeholder="+38(0XX)XXX-XX-XX">
                </div>

                <div class="form-group">
                    <label for="address">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ *</label>
                    <input type="text" id="address" name="address" required placeholder="–≤—É–ª. –ö–∏—ó–≤—Å—å–∫–∞, 123, –∫–≤. 45">
                </div>

                <div class="form-group">
                    <label for="notes">–ü—Ä–∏–º—ñ—Ç–∫–∞ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</label>
                    <textarea id="notes" name="notes" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –±–µ–∑ –≥–æ—Å—Ç—Ä–æ–≥–æ, –¥–æ–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ —á–∞—Å–Ω–∏–∫—É..."></textarea>
                </div>

                <!-- –í–∞—Ä—ñ–∞–Ω—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
                <div class="form-group">
                    <label>–°–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏ *</label>
                    <div class="delivery-options">
                        <label class="option">
                            <input type="radio" name="delivery" value="express" checked>
                            <div>
                                <strong>–ï–∫—Å–ø—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∞ (30-45 —Ö–≤)</strong>
                                <p style="margin: 0; font-size: 0.9rem; color: #7c3aed;">+50 –≥—Ä–Ω</p>
                            </div>
                        </label>
                        <label class="option">
                            <input type="radio" name="delivery" value="standard">
                            <div>
                                <strong>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ (1-2 –≥–æ–¥–∏–Ω–∏)</strong>
                                <p style="margin: 0; font-size: 0.9rem; color: #7c3aed;">+30 –≥—Ä–Ω</p>
                            </div>
                        </label>
                        <label class="option">
                            <input type="radio" name="delivery" value="pickup">
                            <div>
                                <strong>–°–∞–º–æ–≤–∏–≤—ñ–∑ –∑—ñ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É</strong>
                                <p style="margin: 0; font-size: 0.9rem; color: #10b981;">–ë–µ–∑–ø–ª–∞—Ç–Ω–æ</p>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- –°–ø–æ—Å–æ–±–∏ –æ–ø–ª–∞—Ç–∏ -->
                <div class="form-group">
                    <label>–°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ *</label>
                    <div class="payment-options">
                        <label class="option">
                            <input type="radio" name="payment" value="card" checked>
                            <span>üí≥ –ö–∞—Ä—Ç–∞</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="payment" value="cash">
                            <span>üíµ –ì–æ—Ç—ñ–≤–∫–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤—Ü—ñ</span>
                        </label>
                        <label class="option payment-with-image">
                            <input type="radio" name="payment" value="apple">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b9/Apple_logo.svg" alt="Apple Pay" class="payment-icon">
                            <span>Apple Pay</span>
                        </label>
                        <label class="option payment-with-image">
                            <input type="radio" name="payment" value="google">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google Pay" class="payment-icon">
                            <span>Google Pay</span>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
            </form>
        </div>
    </div>

    <!-- –†–µ–∑—é–º–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
    <div>
        <div class="form-section">
            <h2>–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            
            {% for item in cart %}
            <div style="display: flex; justify-content: space-between; padding: 1rem 0; border-bottom: 1px solid #e5e7eb;">
                <div>
                    <div style="font-weight: 600;">{{ item.name }}</div>
                    <div style="color: #6b7280; font-size: 0.9rem;">x{{ item.quantity }}</div>
                </div>
                <div style="color: #7c3aed; font-weight: 600;">{{ item.price * item.quantity }} –≥—Ä–Ω</div>
            </div>
            {% endfor %}

            {% set total = 0 %}
            {% for item in cart %}
                {% set total = total + (item.price * item.quantity) %}
            {% endfor %}

            <div style="display: flex; justify-content: space-between; padding: 1.5rem 0; border-top: 2px solid #7c3aed; margin-top: 1rem;">
                <div style="font-size: 1.2rem; font-weight: bold; color: #7c3aed;">–†–ê–ó–û–ú:</div>
                <div style="font-size: 1.2rem; font-weight: bold; color: #7c3aed;">{{ total }} –≥—Ä–Ω</div>
            </div>

            <div style="background-color: #ede9fe; padding: 1rem; border-radius: 8px; margin-top: 1rem; color: #5b21b6;">
                <p style="margin: 0; font-size: 0.9rem;">
                    ‚úì –ì–∞—Ä–∞–Ω—Ç—ñ—è —è–∫–æ—Å—Ç—ñ<br>
                    ‚úì –ë–µ–∑–ø–µ—á–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞<br>
                    ‚úì –õ–µ–≥–∫—ñ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è
                </p>
            </div>

            <a href="/cart" class="btn btn-secondary" style="margin-top: 1rem;">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –∫–æ—à–∏–∫–∞</a>
        </div>
    </div>
</div>
{% endblock %}
